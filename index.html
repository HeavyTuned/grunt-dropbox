<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Grunt-dropbox by kbremner</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/kbremner/grunt-dropbox">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/kbremner/grunt-dropbox/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/kbremner/grunt-dropbox/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Grunt-dropbox</h1>
          <p>Grunt plugin for uploading build artifacts to dropbox</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/kbremner">kbremner</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h1>
<a name="grunt-dropbox" class="anchor" href="#grunt-dropbox"><span class="octicon octicon-link"></span></a>grunt-dropbox</h1>

<blockquote>
<p>Grunt plugin for uploading build artifacts to dropbox</p>
</blockquote>

<h2>
<a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting Started</h2>

<p>This plugin requires Grunt <code>~0.4.5</code></p>

<p>If you haven't used <a href="http://gruntjs.com/">Grunt</a> before, be sure to check out the <a href="http://gruntjs.com/getting-started">Getting Started</a> guide, as it explains how to create a <a href="http://gruntjs.com/sample-gruntfile">Gruntfile</a> as well as install and use Grunt plugins. Once you're familiar with that process, you may install this plugin with this command:</p>

<pre lang="shell"><code>npm install grunt-dropbox --save-dev
</code></pre>

<p>Once the plugin has been installed, it may be enabled inside your Gruntfile with this line of JavaScript:</p>

<div class="highlight highlight-js"><pre><span class="nx">grunt</span><span class="p">.</span><span class="nx">loadNpmTasks</span><span class="p">(</span><span class="s1">'grunt-dropbox'</span><span class="p">);</span>
</pre></div>

<h2>
<a name="the-dropbox-task" class="anchor" href="#the-dropbox-task"><span class="octicon octicon-link"></span></a>The "dropbox" task</h2>

<h3>
<a name="files" class="anchor" href="#files"><span class="octicon octicon-link"></span></a>Files</h3>

<p>When specifying files, the destination must be specified (i.e. specifying the source file only is not supported). The destination is the path from the root of your dropbox directory to upload the local files to.</p>

<h3>
<a name="options" class="anchor" href="#options"><span class="octicon octicon-link"></span></a>Options</h3>

<h4>
<a name="optionsversion_name" class="anchor" href="#optionsversion_name"><span class="octicon octicon-link"></span></a>options.version_name</h4>

<p>Type: <code>String</code>
Required: <code>False</code></p>

<p>An optional string value that is appended to the destination path to differentiate artifacts from different builds. If using Travis CI, it is recommended that this be set to <code>process.env.TRAVIS_BUILD_NUMBER</code>.</p>

<h4>
<a name="optionsaccess_token" class="anchor" href="#optionsaccess_token"><span class="octicon octicon-link"></span></a>options.access_token</h4>

<p>Type: <code>String</code>
Required: <code>True</code></p>

<p>A string value that is used to authenticate with Dropbox. Note that as this task is meant to be unattended, it is assummed that an access token has already been obtained. See <a href="https://github.com/kbremner/grunt-dropbox/wiki/Creating-a-Dropbox-Access-Token">this wiki page</a> for more details.</p>

<h3>
<a name="usage-examples" class="anchor" href="#usage-examples"><span class="octicon octicon-link"></span></a>Usage Examples</h3>

<p>Define a <code>dev</code> task that will upload the <code>dist</code> directory to <code>uploads/sample-project/</code> in the dropbox account associated with the provided token:</p>

<div class="highlight highlight-js"><pre><span class="nx">grunt</span><span class="p">.</span><span class="nx">initConfig</span><span class="p">({</span>
  <span class="nx">dropbox</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">access_token</span><span class="o">:</span> <span class="s1">'&lt;token&gt;'</span>
    <span class="p">},</span>
    <span class="nx">dev</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">files</span><span class="o">:</span> <span class="p">{</span>
        <span class="s1">'uploads/sample-project'</span><span class="o">:</span> <span class="p">[</span><span class="s1">'dist/**/*.*'</span><span class="p">],</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
<span class="p">});</span>
</pre></div>

<p>Define a <code>dev</code> task that will upload the files in the root of the <code>dist</code> directory to a folder under <code>uploads/sample-project/</code> named after the current travis build number (i.e. for build number 32, the files will be uploaded to <code>uploads/sample-project/32/</code>). The files are uploaded to the dropbox account associated with the access token provided via the dropbox_access_token environment variable:</p>

<div class="highlight highlight-js"><pre><span class="nx">grunt</span><span class="p">.</span><span class="nx">initConfig</span><span class="p">({</span>
  <span class="nx">dropbox</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">access_token</span><span class="o">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">dropbox_access_token</span><span class="p">,</span>
      <span class="nx">version_name</span><span class="o">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">TRAVIS_BUILD_NUMBER</span>
    <span class="p">},</span>
    <span class="nx">dev</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">files</span><span class="o">:</span> <span class="p">{</span>
        <span class="s1">'uploads/sample-project'</span><span class="o">:</span> <span class="p">[</span><span class="s1">'dist/*.*'</span><span class="p">],</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
<span class="p">});</span>
</pre></div>

<h2>
<a name="contributing" class="anchor" href="#contributing"><span class="octicon octicon-link"></span></a>Contributing</h2>

<p>Please feel free to raise issues and submit pull requests. I'll try and reply to issues as quickly as possible.</p>

<h2>
<a name="release-history" class="anchor" href="#release-history"><span class="octicon octicon-link"></span></a>Release History</h2>

<ul>
<li>0.1.2

<ul>
<li>Made version_name optional</li>
<li>Removed default value for access_token</li>
<li>Updated documentation</li>
</ul>
</li>
<li>0.1.1

<ul>
<li>moved to using promises, other code cleanup</li>
</ul>
</li>
<li>0.1.0

<ul>
<li>initial release</li>
</ul>
</li>
</ul>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>